webpackJsonp([9],{"8LE5":function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"prompt-txt"},[this._v("查找不到歌曲的音源")])},staticRenderFns:[]};var s=n("VU/8")({name:"Prompt"},i,!1,function(t){n("cvDc")},"data-v-a0d8eb36",null);e.a=s.exports},BjtM:function(t,e){},CFSk:function(t,e){},GAzl:function(t,e,n){"use strict";var i=n("/QXl"),s={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!1},pullup:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20},beforeScroll:{type:Boolean,default:!1}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()})},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new i.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(t){e.$emit("scroll",t)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]};var a=n("VU/8")(s,r,!1,function(t){n("HDwr")},null,null);e.a=a.exports},HDwr:function(t,e){},"N+zL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.slideClass},[this._t("default")],2)},staticRenderFns:[]},s=n("VU/8")({name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}},i,!1,null,null,null);e.default=s.exports},ND4v:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"selectPlay",function(){return K}),n.d(i,"insertSong",function(){return tt}),n.d(i,"saveSearchHistory",function(){return et}),n.d(i,"deleteSearchHistory",function(){return nt}),n.d(i,"clearSearchHistory",function(){return it}),n.d(i,"deleteSong",function(){return st}),n.d(i,"deleteSongList",function(){return rt}),n.d(i,"savePlayHistory",function(){return at});var s={};n.d(s,"singer",function(){return ot}),n.d(s,"playing",function(){return ct}),n.d(s,"fullScreen",function(){return lt}),n.d(s,"playlist",function(){return ut}),n.d(s,"sequenceList",function(){return dt}),n.d(s,"mode",function(){return ft}),n.d(s,"currentIndex",function(){return ht}),n.d(s,"currentSong",function(){return pt}),n.d(s,"currentUrl",function(){return vt}),n.d(s,"disc",function(){return mt}),n.d(s,"topList",function(){return gt}),n.d(s,"searchHistory",function(){return _t}),n.d(s,"playHistory",function(){return St});n("j1ja");var r=n("/5sW"),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"basic"},[n("div",{staticClass:"header"},[n("div",{staticClass:"iconfont header-icon"},[t._v("\n      \n    ")]),t._v(" "),n("div",{staticClass:"header-title"},[n("router-link",{staticClass:"recommend",attrs:{to:"/",tag:"span"}},[t._v("ONEMUSIC")])],1),t._v(" "),n("div",{staticClass:"iconfont header-search",on:{click:t.goSearch}},[t._v("")])]),t._v(" "),n("div",{staticClass:"router"},[n("div",{staticClass:"router-content"},[n("router-link",{staticClass:"recommend",attrs:{to:"/recommend",tag:"div"}},[t._v("推荐")]),t._v(" "),n("router-link",{staticClass:"rank",attrs:{to:"/rank",tag:"div"}},[t._v("排行")]),t._v(" "),n("router-link",{staticClass:"singer",attrs:{to:"/singer",tag:"div"}},[t._v("热门歌手")])],1)])])},staticRenderFns:[]};var o=n("VU/8")({name:"Basic",methods:{goSearch:function(){this.$router.push("/search")}}},a,!1,function(t){n("ND4v")},"data-v-5336d639",null).exports,c=n("Dd8w"),l=n.n(c),u=n("48sp"),d=n("I29D"),f=n.n(d),h={name:"ProgressBar",props:{precent:{type:Number,default:0}},created:function(){this.touch={}},computed:{progressBthWidth:function(){return this.$refs.progressBtn.clientWidth}},watch:{precent:function(t){if(t>=0&&!this.touch.init){var e=t*(this.$refs.progressBar.clientWidth-this.progressBthWidth);this.offsetWidth(e)}}},methods:{progressTouchStart:function(t){this.touch.init=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.init){var e=t.touches[0].pageX-this.touch.startX,n=Math.min(this.$refs.progressBar.clientWidth-this.progressBthWidth,Math.max(0,this.touch.left+e));this.offsetWidth(n)}},progressTouchEnd:function(){this.touch.init=!1,this.triggerPercent()},offsetWidth:function(t){this.$refs.progress.style.width=t+"px",this.$refs.progressBtn.style.transform="translate3d("+t+"px, 0, 0)"},triggerPercent:function(){var t=this.$refs.progressBar.clientWidth-this.progressBthWidth,e=this.$refs.progress.clientWidth/t;this.$emit("percentChange",e)},progressClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),n=t.pageX-e.left;this.offsetWidth(n),this.triggerPercent()}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:this.progressClick}},[e("div",{staticClass:"bar-inner"},[e("div",{ref:"progress",staticClass:"progress"}),this._v(" "),e("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:this.progressTouchStart,touchmove:this.progressTouchMove,touchend:this.progressTouchEnd}},[e("div",{staticClass:"progress-btn"})])])])},staticRenderFns:[]};var v=n("VU/8")(h,p,!1,function(t){n("U0ev")},"data-v-a818453a",null).exports,m=0,g=1,_=2,S=n("s0MJ"),C=n("8LE5"),T=n("GAzl"),y=n("ntUn"),E={data:function(){return{showFlag:!1}},methods:l()({show:function(){var t=this;this.showFlag=!0,setTimeout(function(){t.$refs.listContent.refresh(),t.scrollToCurrent(t.currentSong)},20)},hide:function(){this.showFlag=!1},getCurrentIcon:function(t){return this.currentSong.id===t.id?"fa-play-circle-o":""},selectItem:function(t,e){console.log(t),this.mode===_&&(e=this.playlist.findIndex(function(e){return e.id===t.id})),this.setCurrentIndex(e),this.setPlayingState(!0),this.$parent.getUrl(t.id)},scrollToCurrent:function(t){var e=this.sequenceList.findIndex(function(e){return t.id===e.id});this.$refs.listContent.scrollToElement(this.$refs.listItem[e],300)},deleteOne:function(t){1===this.playlist.length&&this.hide(),this.deleteSong(t)},showConfirm:function(){this.$refs.confirm.show()},confirmClear:function(){console.log("ok"),this.deleteSongList(),this.hide()}},Object(u.b)(["deleteSong","deleteSongList"]),Object(u.d)({setCurrentIndex:"SET_CURRENT_INDEX",setPlayingState:"SET_PLAYING_STATE"})),watch:{currentSong:function(t,e){this.showFlag&&t.id!==e.id&&this.scrollToCurrent(t)}},computed:l()({},Object(u.c)(["sequenceList","currentSong","playlist","mode"])),components:{Scroll:T.a,Confirm:y.a}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"leave-active-class":"fadeOutDown","enter-active-class":"fadeInUp",duration:{enter:200,leave:100}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"playlist animated",on:{click:t.hide}},[n("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"list-header"},[n("h1",{staticClass:"title"},[n("i",{staticClass:"icon"}),t._v(" "),n("span",{staticClass:"text"},[t._v("全部歌曲")]),t._v(" "),n("span",{staticClass:"clear",on:{click:t.showConfirm}},[n("i",{staticClass:"fa fa-trash"})])])]),t._v(" "),n("scroll",{ref:"listContent",staticClass:"list-content",attrs:{data:t.sequenceList}},[n("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.sequenceList,function(e,i){return n("li",{key:e.id,ref:"listItem",refInFor:!0,staticClass:"item",on:{click:function(n){return t.selectItem(e,i)}}},[n("i",{staticClass:"current fa",class:t.getCurrentIcon(e)}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"like"},[n("i",{staticClass:"fa fa-heart-o"})]),t._v(" "),n("span",{staticClass:"delete",on:{click:function(n){return n.stopPropagation(),t.deleteOne(e)}}},[n("i",{staticClass:"fa fa-times"})])])}),0)],1),t._v(" "),n("div",{staticClass:"list-close",on:{click:t.hide}},[n("span",[t._v("关闭")])])],1),t._v(" "),n("confirm",{ref:"confirm",attrs:{text:"是否清空播放列表歌曲",confirBtnText:"清空"},on:{confirm:t.confirmClear}})],1)])},staticRenderFns:[]};var L=n("VU/8")(E,w,!1,function(t){n("Zf7i")},"data-v-5edabbe6",null).exports,x={data:function(){return{songReady:!1,currentTime:0,duration:0,sequence:"&#xe671;",loop:"&#xe607;",random:"&#xe672;",ControlPrompta:!1}},components:{ProgressBar:v,Prompt:C.a,PlayList:L},computed:l()({},Object(u.c)(["fullScreen","playlist","currentSong","currentUrl","playing","currentIndex","mode","sequenceList"]),{playIcon:function(){return this.playing?"fa-pause-circle-o":"fa-play-circle"},miniIcon:function(){return this.playing?"fa-pause-circle-o":"fa-play-circle"},rotateCd:function(){return this.playing?"play":"play pause"},precent:function(){return this.currentTime/this.duration},iconMode:function(){return this.mode===m?this.sequence:this.mode===g?this.loop:this.random}}),methods:l()({},Object(u.d)({setFullScreen:"SET_FULL_SCREEN",setPlayingState:"SET_PLAYING_STATE",setCurrentIndex:"SET_CURRENT_INDEX",setCurrentUrl:"SET_CURRENT_URL",setPlayMode:"SET_PLAY_MODE",setPlayList:"SET_PLAYLIST"}),{getUrl:function(t){var e=this;f.a.get("/song/url",{params:{id:t}}).then(function(t){var n=t.data.data[0].url;null===n&&(e.ControlPrompta=!0,e.OutPrompt(),e.$refs.audio.pause(),e.songReady=!0),e.setCurrentUrl(n)})},OutPrompt:function(){var t=this,e=setTimeout(function(){t.ControlPrompta=!1,clearTimeout(e)},1e3)},back:function(){this.setFullScreen(!1)},open:function(){this.setFullScreen(!0)},togglePlaying:function(){this.setPlayingState(!this.playing)},ready:function(){this.songReady=!0,this.$refs.audio.play(),this.duration=this.$refs.audio.duration},error:function(){this.songReady=!0},next:function(){if(this.songReady){var t=this.currentIndex+1;t===this.playlist.length&&(t=0),1!==this.playlist.length?(this.setCurrentIndex(t),this.getUrl(this.playlist[t].id),this.playing||this.togglePlaying(),this.songReady=!1):this.aloop()}},aloop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play()},end:function(){var t=this;this.mode===g?setTimeout(function(){t.$refs.audio.currentTime=0},1e3):this.next()},prev:function(){if(this.songReady){var t=this.currentIndex-1;-1===t&&(t=this.playlist.length-1),1!==this.playlist.length?(this.setCurrentIndex(t),this.getUrl(this.playlist[t].id),this.playing||this.togglePlaying(),this.songReady=!1):this.aloop()}},updataTime:function(t){this.currentTime=t.target.currentTime},format:function(t){return((t|=0)/60|0)+":"+this.pad(t%60)},pad:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toString().length;n<e;)t="0"+t,n++;return t},percentChange:function(t){this.$refs.audio.currentTime=this.$refs.audio.duration*t,this.playing||this.togglePlaying()},resetCurrentIndex:function(t){var e=this,n=t.findIndex(function(t){return t.id===e.currentSong.id});this.setCurrentIndex(n)},changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var e=null;t===_?e=Object(S.b)(this.sequenceList):t===m&&(e=this.sequenceList),this.resetCurrentIndex(e),this.setPlayList(e)},showPlaylist:function(){this.$refs.playlist.show()}}),watch:{currentSong:function(t,e){var n=this;t.id&&t.id!==e.id&&this.$nextTick(function(){n.$refs.audio.play()})},playing:function(t){var e=this.$refs.audio;this.$nextTick(function(){t?e.play():e.pause()})}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.playlist.length>0,expression:"playlist.length > 0"}],staticClass:"player"},[n("transition",{attrs:{name:"normal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[n("div",{staticClass:"background"},[n("img",{attrs:{src:t.currentSong.image,width:"100%",height:"100%"}})]),t._v(" "),n("div",{staticClass:"top"},[n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"fa fa-chevron-left"})]),t._v(" "),n("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),n("h2",{staticClass:"subtitle",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),t._v(" "),n("div",{staticClass:"middle"},[n("div",{staticClass:"middle-l"},[n("div",{staticClass:"cd-wrapper"},[n("div",{staticClass:"cd",class:t.rotateCd},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.currentSong.image,expression:"currentSong.image"}],staticClass:"image"})])]),t._v(" "),n("transition",{attrs:{"enter-active-class":"bounceInLeft","leave-active-class":"fadeOutUp",duration:{enter:500,leave:800}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ControlPrompta,expression:"ControlPrompta"}],staticClass:"prompt-container animated"},[n("prompt")],1)]),t._v(" "),n("div",{staticClass:"middle-r"},[n("div",{staticClass:"cd-gc"},[t._v("暂无歌词")])])],1)]),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"progress-wrapper"},[n("span",{staticClass:"time time-l"},[t._v(t._s(t.format(t.currentTime)))]),t._v(" "),n("div",{staticClass:"progress-bar-wrapper"},[n("progress-bar",{attrs:{precent:t.precent},on:{percentChange:t.percentChange}})],1),t._v(" "),n("span",{staticClass:"time time-r"},[t._v(t._s(t.format(t.duration)))])]),t._v(" "),n("div",{staticClass:"operators"},[n("div",{staticClass:"icon i-left"},[n("i",{staticClass:"iconfont",domProps:{innerHTML:t._s(t.iconMode)},on:{click:t.changeMode}})]),t._v(" "),n("div",{staticClass:"icon i-left"},[n("i",{staticClass:"fa fa-angle-double-left",on:{click:t.prev}})]),t._v(" "),n("div",{staticClass:"icon i-center"},[n("i",{staticClass:"fa",class:t.playIcon,on:{click:t.togglePlaying}})]),t._v(" "),n("div",{staticClass:"icon i-right"},[n("i",{staticClass:"fa fa-angle-double-right",on:{click:t.next}})]),t._v(" "),n("div",{staticClass:"icon i-right"},[n("i",{staticClass:"fa fa-heartbeat"})])])])])]),t._v(" "),n("transition",{attrs:{name:"mini"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.open}},[n("div",{staticClass:"icon"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.currentSong.image,expression:"currentSong.image"}],class:t.rotateCd,attrs:{width:"40",height:"40"}})]),t._v(" "),n("div",{staticClass:"text"},[n("h2",{staticClass:"name",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),t._v(" "),n("div",{staticClass:"control",on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}},[n("i",{staticClass:"fa",class:t.miniIcon})]),t._v(" "),n("div",{staticClass:"control",on:{click:t.showPlaylist}},[n("i",{staticClass:"fa fa-random"})])])]),t._v(" "),n("play-list",{ref:"playlist"}),t._v(" "),n("audio",{ref:"audio",attrs:{src:t.currentUrl},on:{canplay:t.ready,error:t.error,timeupdate:t.updataTime,ended:t.end}})],1)},staticRenderFns:[]};var P={name:"App",components:{Basic:o,Player:n("VU/8")(x,I,!1,function(t){n("uc6y")},"data-v-4eabde0a",null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("basic"),this._v(" "),e("keep-alive",[e("router-view")],1),this._v(" "),e("player")],1)},staticRenderFns:[]};var R=n("VU/8")(P,b,!1,function(t){n("Wv5f")},null,null).exports,N=n("e1F6"),$={path:"/recommend",component:function(t){Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"49Wm")).then(function(e){t(e)})},children:[{path:":id",component:function(t){Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"NSSj")).then(function(e){t(e)})}}]},U={path:"/rank",component:function(t){Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"zOIG")).then(function(e){t(e)})},children:[{path:":id",component:function(t){Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"s3x3")).then(function(e){t(e)})}}]},k={path:"/singer",component:function(t){Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"H6oc")).then(function(e){t(e)})},children:[{path:"/singer/:id",component:function(t){Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"lEJ1")).then(function(e){t(e)})}}]};r.a.use(N.a);var A=new N.a({routes:[{path:"/",redirect:"/recommend"},$,U,k,{path:"/search",component:function(t){Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"YOyO")).then(function(e){t(e)})}}]}),F=n("v5o6"),H=n.n(F),O=n("F3EI"),Y=n.n(O),B=n("hs12"),M=(n("v2ns"),n("BjtM"),n("m0iu"),n("cjdf"),n("zrzA"),n("CFSk"),n("k9jY"),n("Suol")),j="_search_",D=15,W="_play_",q=200;function X(t,e,n,i){var s=t.findIndex(n);0!==s&&(s>0&&t.splice(s,1),t.unshift(e),i&&t.length>i&&t.pop())}var z,G={singer:{},playing:!1,fullScreen:!1,playlist:[],sequenceList:[],mode:m,currentIndex:-1,currentUrl:"",disc:{},topList:{},searchHistory:M.a.get(j,[]),playHistory:M.a.get(W,[])},V=n("bOdI"),Q=n.n(V),J=(z={},Q()(z,"SET_SINGER",function(t,e){t.singer=e}),Q()(z,"SET_PLAYING_STATE",function(t,e){t.playing=e}),Q()(z,"SET_FULL_SCREEN",function(t,e){t.fullScreen=e}),Q()(z,"SET_PLAYLIST",function(t,e){t.playlist=e}),Q()(z,"SET_SEQUENCE_LIST",function(t,e){t.sequenceList=e}),Q()(z,"SET_PLAY_MODE",function(t,e){t.mode=e}),Q()(z,"SET_CURRENT_INDEX",function(t,e){t.currentIndex=e}),Q()(z,"SET_CURRENT_URL",function(t,e){t.currentUrl=e}),Q()(z,"SET_DISC",function(t,e){t.disc=e}),Q()(z,"SET_TOP_LIST",function(t,e){t.topList=e}),Q()(z,"SET_SEARCH_HISTORY",function(t,e){t.searchHistory=e}),Q()(z,"SET_PLAY_HISTORY",function(t,e){t.playHistory=e}),z);function Z(t,e){return t.findIndex(function(t){return t.id===e.id})}var K=function(t,e){var n=t.commit,i=t.state,s=e.list,r=e.index,a=e.url;if(n("SET_SEQUENCE_LIST",s),i.mode===_){var o=Object(S.b)(s);n("SET_PLAYLIST",o),r=Z(o,s[r])}else n("SET_PLAYLIST",s);n("SET_CURRENT_INDEX",r),n("SET_FULL_SCREEN",!0),n("SET_PLAYING_STATE",!0),n("SET_CURRENT_URL",a)},tt=function(t,e){var n=t.commit,i=t.state,s=i.playlist.slice(),r=i.sequenceList.slice(),a=i.currentIndex,o=s[a],c=Z(s,e);a++,s.splice(a,0,e),c>-1&&(a>c?(s.splice(c,1),a--):s.splice(c+1,1));var l=Z(r,o)+1,u=Z(r,e);r.splice(l,0,e),u>-1&&(l>u?r.splice(u,1):r.splice(u+1,1)),n("SET_PLAYLIST",s),n("SET_SEQUENCE_LIST",r),n("SET_CURRENT_INDEX",a),n("SET_FULL_SCREEN",!0),n("SET_PLAYING_STATE",!0)},et=function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t){var e=M.a.get(j,[]);return X(e,t,function(e){return e===t},D),M.a.set(j,e),e}(e))},nt=function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t){var e,n,i,s=M.a.get(j,[]);return n=function(e){return e===t},(i=(e=s).findIndex(n))>-1&&e.splice(i,1),M.a.set(j,s),s}(e))},it=function(t){(0,t.commit)("SET_SEARCH_HISTORY",(M.a.remove(j),[]))},st=function(t,e){var n=t.commit,i=t.state,s=i.playlist.slice(),r=i.sequenceList.slice(),a=i.currentIndex,o=s[a],c=Z(s,e);s.splice(c,1);var l=Z(r,e);if(r.splice(l,1),e===o){if(!s.length)return;f.a.get("/song/url",{params:{id:s[c].id}}).then(function(t){var e=t.data.data[0].url;n("SET_CURRENT_URL",e)})}(a>c||a===s.length)&&a--,n("SET_PLAYLIST",s),n("SET_SEQUENCE_LIST",r),n("SET_CURRENT_INDEX",a),s.length?n("SET_PLAYING_STATE",!0):n("SET_PLAYING_STATE",!1)},rt=function(t){var e=t.commit;e("SET_PLAYLIST",[]),e("SET_SEQUENCE_LIST",[]),e("SET_CURRENT_INDEX",-1),e("SET_PLAYING_STATE",!1),e("SET_CURRENT_URL","")},at=function(t,e){(0,t.commit)("SET_PLAY_HISTORY",function(t){var e=M.a.get(W,[]);return X(e,t,function(e){return e.id===t.id},q),M.a.set(W,e),e}(e))},ot=function(t){return t.singer},ct=function(t){return t.playing},lt=function(t){return t.fullScreen},ut=function(t){return t.playlist},dt=function(t){return t.sequenceList},ft=function(t){return t.mode},ht=function(t){return t.currentIndex},pt=function(t){return t.playlist[t.currentIndex]||{}},vt=function(t){return t.currentUrl},mt=function(t){return t.disc},gt=function(t){return t.topList},_t=function(t){return t.searchHistory},St=function(t){return t.playHistory};r.a.use(u.a);var Ct=new u.a.Store({state:G,mutations:J,actions:i,getters:s});r.a.config.productionTip=!1,f.a.defaults.baseURL="https://autumnfish.cn",H.a.attach(document.body),r.a.use(Y.a),r.a.use(B.a,{loading:n("jn8y")}),new r.a({el:"#app",router:A,store:Ct,render:function(t){return t(R)}})},U0ev:function(t,e){},Wv5f:function(t,e){},Zf7i:function(t,e){},cjdf:function(t,e){},cvDc:function(t,e){},enrM:function(t,e){},jn8y:function(t,e,n){t.exports=n.p+"static/img/timg.6b9f342.gif"},k9jY:function(t,e){},m0iu:function(t,e){},ntUn:function(t,e,n){"use strict";var i={props:{text:{type:String,default:""},confirBtnText:{type:String,default:"确定"},cancelBtnText:{type:String,default:"取消"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.hide(),this.$emit("cancel")},confirm:function(){this.hide(),this.$emit("confirm")}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"confirm-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"confirm-wrapper"},[n("div",{staticClass:"confirm-content"},[n("p",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-btn left",on:{click:t.cancel}},[t._v(t._s(t.cancelBtnText))]),t._v(" "),n("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirBtnText))])])])])])])},staticRenderFns:[]};var r=n("VU/8")(i,s,!1,function(t){n("enrM")},"data-v-3c086a7d",null);e.a=r.exports},pYmz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"!=typeof window;i&&(window.Swiper=n("gsqX"));var s={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&i&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&i){delete t.options.notNextTick;var e=!1;for(var n in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(n)&&t.options[n]&&(e=!0,t.defaultSwiperClasses[n]=t.options[n]);var s=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(s):s()}}(this.options.notNextTick||this.notNextTick)?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),n("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]},a=n("VU/8")(s,r,!1,null,null,null);e.default=a.exports},s0MJ:function(t,e,n){"use strict";e.b=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var i=(r=0,a=n,Math.floor(Math.random()*(a-r+1)+r)),s=e[n];e[n]=e[i],e[i]=s}var r,a;return e},e.a=function(t,e){var n=void 0;return function(){for(var i=this,s=arguments.length,r=Array(s),a=0;a<s;a++)r[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e)}}},uc6y:function(t,e){},v2ns:function(t,e){},zrzA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.76797acc4396befb9393.js.map